!function(e){"use strict";var t=jQuery("#customFieldContainer .Newfild").length,o=t=parseInt(t,10);function n(){jQuery(".CustomFieldRemoveButton").on("click",function(){var t=jQuery(this).attr("rel");""!=t&&void 0!==t?(url=baseUrl+"admin/blog/blogs/ajax_delete/"+t,e.ajax({url:url,type:"POST",dataType:"json",success:function(e){jQuery(".swaprow_"+t).css("background-color","red").fadeOut("slow",function(){jQuery(this).remove()})}})):jQuery(this).closest(".xrow").css("background-color","red").fadeOut("slow",function(){jQuery(this).remove()}),0==jQuery("#AppendContainer .row").length&&jQuery("#customFieldContainer").hide("slow").remove()})}function a(e){for(var t=e+"=",o=document.cookie.split(","),n=0;n<o.length;n++){for(var a=o[n];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(t))return a.substring(t.length,a.length)}return""}o=t+1,n(),jQuery("#AddCustomField").on("click",function(){o+=1;var e=parseInt(jQuery("#last_cf_num").val()),a=jQuery("#BlogMetaName").val(),l=jQuery("#BlogMetaValue").val();if(""===jQuery.trim(a)&&jQuery.trim(""===l))alert("Please fill these fields.");else{t+=1,o=e>0?e+1:o,jQuery("#AppendContainer").append('<div id="customFieldContainer"></div>');var i='<div class="row xrow pt-3 mb-2 bg-light "> <div class="col-md-6 form-group"> <label for="BlogMetaName_'+o+'">Title</label> <input type="text" name="data[BlogMeta]['+o+'][title]" class="form-control" id="BlogMetaName_'+o+'" value="'+a+'"> </div> <div class="col-md-6 form-group"> <label for="">Value</label> <textarea name="data[BlogMeta]['+o+'][value]"" id="BlogMetaValue_'+o+'" class="form-control" rows="5">'+l+'</textarea> </div> <div class="col-md-12 form-group"> <button class="btn btn-danger btn-sm CustomFieldRemoveButton" type="button">Delete</button> </div> </div>';jQuery("#customFieldContainer").css("background-color","green").fadeIn("slow",function(){jQuery("#customFieldContainer").append(i),jQuery("#customFieldContainer").delay(800).fadeIn(400).removeAttr("style")}),jQuery("#BlogMetaName").val(""),jQuery("#BlogMetaValue").val(""),jQuery("#last_cf_num").val(o)}n()}),jQuery(".allowField").on("click",function(){var e=jQuery(this).attr("rel");if(!0==jQuery(this).prop("checked")){jQuery(".X"+e).removeClass("d-none");var t=1}else{var t=0;jQuery(".X"+e).addClass("d-none")}var o=new Date;o.setDate(o.getDate()+30),document.cookie="isCheck_"+e+"="+t+"; expires="+o.toGMTString()+"path=/"}),function e(){if("undefined"==typeof screenOptionArray)return!1;var t=JSON.parse(screenOptionArray);jQuery.each(t,function(e,t){jQuery.each(t,function(t,o){var n=function e(t){for(var o=t+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var l=n[a];" "==l.charAt(0);)l=l.substring(1);if(0==l.indexOf(o))return l.substring(o.length,l.length)}return""}("isCheck_"+e);1==(n=parseInt(n,10))?(jQuery(".X"+e).removeClass("d-none"),jQuery(".Allow"+e).prop("checked",!0)):0==n&&(jQuery(".X"+e).addClass("d-none"),jQuery(".Allow"+e).prop("checked",!1))})})}(),jQuery(".editPermalinkContainer").hide(),jQuery(".editPermalink").on("click",function(){var e=jQuery(".permalinkSlugSpan").text();jQuery(".permalinkSlugSpan").hide("slow"),jQuery(".editPermalink").hide("slow"),jQuery("#BlogEditSlug").val(e),jQuery(".editPermalinkContainer").show("slow")}),jQuery(".editPermalinkOkButton").on("click",function(){var t=jQuery("#BlogEditSlug").val();e.ajax({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},url:makeSlugUrl,type:"POST",data:{slug_text:t},dataType:"html",success:function(e){jQuery(".permalinkSlugSpan").text(e),jQuery("#slug").val(e),jQuery(".editPermalinkContainer").hide("slow"),jQuery(".permalinkSlugSpan").show("slow"),jQuery(".editPermalink").show("slow")}})}),jQuery(".editPermalinkCancelButton").on("click",function(){jQuery(".editPermalinkContainer").hide("slow"),jQuery(".permalinkSlugSpan").show("slow"),jQuery(".editPermalink").show("slow")}),"undefined"!=typeof blogCategoryIds&&function e(t){if(""!=jQuery.trim(t)){var o=JSON.parse(t);jQuery.each(o,function(e,t){jQuery(".blog_categories").each(function(){jQuery(this).val()==t&&jQuery(this).prop("checked",!0)})})}}(blogCategoryIds),jQuery(".newCategoryDiv").hide(),jQuery(".addNewBlogCategorylink").on("click",function(){jQuery(".newCategoryDiv").toggle("slow")}),jQuery(".addNewBlogCategoryBtn").on("click",function(){var t=jQuery(".newCategoryField").val(),o=jQuery(".CategoryParentId :selected").val(),n=jQuery(".rdx-link").val();""!=t&&""!=n&&e.ajax({headers:{"X-CSRF-TOKEN":e('meta[name="csrf-token"]').attr("content")},url:n,type:"POST",data:{title:t,parent_id:o},dataType:"html",success:function(e){jQuery(".BlogCategory"+o).length>0?jQuery(".BlogCategory"+o).after().append(e):jQuery(".appendCategory  ul:first").append(e),setTimeout(function(){jQuery(".newCategoryField").val(""),jQuery(".CatNotExit").remove()},1e3)}})}),jQuery("#BlogTitle").slug({hide:!1}),jQuery(document).on("change","#ContentVisibility",function(){"PP"==jQuery(this).val()?(jQuery("#PublicPasswordTextbox").slideDown("slow").removeClass("d-none"),jQuery("#ContentPassword").focus()):(jQuery("#PublicPasswordTextbox").slideUp("slow",function(){jQuery("#PublicPasswordTextbox").addClass("d-none")}),jQuery("#PublicPasswordTextbox").val(" "))})}(jQuery);